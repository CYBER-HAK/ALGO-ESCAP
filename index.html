<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ALGO ESCAPE</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: linear-gradient(180deg, #0c0c0c, #171717);
    color: white;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  h1 {
    margin-top: 30px;
    font-size: 2.8em;
    text-shadow: 0 0 15px #00ffaa;
  }

  #story {
    margin-top: 20px;
    width: 85%;
    text-align: center;
    padding: 15px;
    font-size: 1.2em;
    background: #141414;
    border-radius: 12px;
  }

  #stats {
    margin-top: 15px;
    padding: 10px 20px;
    background: #222;
    border-radius: 10px;
    font-size: 1.2em;
  }

  #feed {
    width: 380px;
    margin-top: 20px;
  }

  .post {
    background: #252525;
    padding: 15px;
    margin: 15px 0;
    border-radius: 12px;
    cursor: pointer;
    border-left: 5px solid #00ffaa33;
    transition: 0.25s;
  }

  .post:hover {
    transform: scale(1.05);
    background: #303030;
  }

  #winScreen, #gameOver {
    margin-top: 40px;
    font-size: 2em;
    display: none;
  }

  .fade {
    animation: fade 0.35s ease;
  }

  @keyframes fade {
    from {opacity: 0; transform: translateY(10px);}
    to   {opacity: 1; transform: translateY(0);}
  }
</style>
</head>
<body>

<h1>ALGO ESCAPE</h1>

<div id="story"></div>
<div id="stats">Filterblase: <span id="bubbleValue">80</span>%</div>

<div id="feed"></div>

<div id="winScreen">üéâ Du hast den Algorithmus besiegt!</div>

<script>
let level = 1;
let bubble = 80;

const bubbleValue = document.getElementById("bubbleValue");
const storyBox = document.getElementById("story");
const feed = document.getElementById("feed");
const win = document.getElementById("winScreen");

const effects = [-15, -10, -5, 5, 10, 15]; // Zuf√§llige Effekte

// ----------- LEVEL POSTS (40+ pro Level) -----------

const levels = {
  1: {
    story: "Level 1: Dein Feed wirkt merkw√ºrdig einseitig‚Ä¶ erkennst du die Muster?",
    posts: [
      "Du siehst schon wieder denselben Meme.",
      "Ein sinnloser Tanzclip.",
      "Eine Produktwerbung, die du schon 4-mal gesehen hast.",
      "Ein Tierbaby-Video.",
      "Eine Kochanleitung.",
      "Ein langweiliges Fitness-Reel.",
      "Ein Clip ohne Aussage.",
      "Ein Video: 'Die 5 besten Lifehacks!'",
      "Ein kurzer Lernbeitrag.",
      "Ein zuf√§lliger Reisepost.",
      "Ein weiterer Meme.",
      "Ein Clip √ºber ein Thema, das dich nicht interessiert.",
      "Ein Q&A-Video ohne Inhalt.",
      "Ein unn√∂tiger Streit-Kommentar.",
      "Ein harmloses DIY-Video.",
      "Ein langweiliges Reaction-Video.",
      "Ein Gaming-Clip ohne Kontext.",
      "Ein kurzes Info-Snippet.",
      "Ein Post mit einer positiven Nachricht.",
      "Ein Beitrag √ºber Wissenschaft.",
      "Ein entspannter Naturclip.",
      "Ein neutraler Post √ºber Geschichte.",
      "Ein interessantes Fakt-Video.",
      "Ein Video: '10 Dinge, die du nicht wusstest!'",
      "Ein kurzer Politik-Ausschnitt.",
      "Ein Clip √ºber Technik.",
      "Ein Beitrag zu Ern√§hrung.",
      "Ein neutraler News-Beitrag.",
      "Ein harmloser Comedy-Clip.",
      "Ein Post √ºber Gesundheit.",
    ]
  },

  2: {
    story: "Level 2: Der Algorithmus setzt auf starke Emotionen‚Ä¶ bleib wachsam!",
    posts: [
      "Emp√∂rungspost: 'Wie kann DAS erlaubt sein?!'",
      "Clickbait: 'Du wirst SCHOCKIERT sein!'",
      "Drama-Video: 'Ich kann nicht mehr‚Ä¶'",
      "Kommentarstreit unter Fremden.",
      "Video mit √ºbertriebenen Behauptungen.",
      "Emotionaler Appell.",
      "Politischer Streitpost.",
      "Video mit starker Meinung.",
      "Clickbait-Thumbnail mit roten Kreisen.",
      "Ein sachlicher Infoartikel.",
      "Ein Nachrichtenclip.",
      "Ein ruhiger Wissenschaftsbeitrag.",
      "Ein neutraler Gesundheitsbeitrag.",
      "Video: 'Er hat DAS wirklich getan??'",
      "Skandalpost √ºber Promis.",
      "Ein faktenbasierter Bericht.",
      "Ein ruhiger Erkl√§rbeitrag.",
      "Ein neutraler Podcast-Ausschnitt.",
      "Ein objektiver Nachrichtentext.",
      "Ein Info-Video √ºber Geschichte.",
      "Ein Clip √ºber Forschung.",
      "Ein Lernvideo.",
      "Ein gesellschaftlicher √úberblick.",
      "Ein Technologie-Update.",
      "Ein Gesundheitstipp.",
      "Ein Naturvideo.",
      "Ein entspannter Clip ohne Drama.",
      "Ein kleiner Wissensfakt.",
      "Ein ruhiger Politikbeitrag.",
      "Eine positive Nachricht.",
    ]
  },

  3: {
    story: "Finales Level: Nur ein Minigame kann dich befreien!",
    posts: []
  }
};

// ----------------------------------------
// STARTLEVEL
// ----------------------------------------

let availablePosts = [];

function startLevel() {
  bubble = 80;
  bubbleValue.textContent = bubble;
  storyBox.textContent = levels[level].story;

  availablePosts = [...levels[level].posts];

  feed.innerHTML = "";
  renderPosts();
}

function renderPosts() {
  feed.innerHTML = "";

  while (feed.children.length < 4 && availablePosts.length > 0) {
    let index = Math.floor(Math.random() * availablePosts.length);
    let postText = availablePosts.splice(index, 1)[0];

    let div = document.createElement("div");
    div.className = "post fade";
    div.textContent = postText;
    div.onclick = () => handlePostClick(div);
    feed.appendChild(div);
  }
}

function handlePostClick(div) {
  let effect = effects[Math.floor(Math.random() * effects.length)];
  bubble = Math.max(0, bubble + effect);
  bubbleValue.textContent = bubble;

  div.remove();

  if (bubble === 0) {
    nextLevel();
    return;
  }

  renderPosts();
}

function nextLevel() {
  level++;

  if (level > 3) {
    feed.style.display = "none";
    storyBox.style.display = "none";
    win.style.display = "block";
    return;
  }

  startLevel();
}

startLevel();
</script>

</body>
</html>
